---
layout: main
title: JSF2, PrimeFaces, Spring Web Flow Integration Tutorial 
---

# JSF2, PrimeFaces, Spring Web Flow Integration Tutorial
This tutorial is here to help you understand the JSF2 front-end generated by SpringFuse.

<strong>If you have not generated a project yet, please <a href="/">generate one</a> now.</strong>
 
The generated project is a fully functional CRUD web application.
It is of a great help to learn JSF2, PrimeFaces, Spring Web Flow through a real example.

## Introduction

This technical stack was chosen to develop enterprise applications.
It would certainly not fit any kind of application.
However, we believe it perfectly fits applications having hundreds of pages/views that rely on a database schema whose tables naturally represent the domain layer.
	

## JSF2 &amp; PrimeFaces	

Primefaces's integration is pretty straightforward, all you need is to add Primefaces jar file as a dependency in your pom.xml file and start using the components from your pages.
You can find numerous example in the generated pages under: 		 		  

* src/main/webapp/WEB-INF/views
* src/main/webapp/WEB-INF/taglib/components
* src/main/webapp/WEB-INF/taglib/flows-generated

We have chosen PrimeFaces because the project is pretty active, 
the <a href="http://www.primefaces.org/showcase" target="_new">components look great</a> and it was the first to really embrace JSF2.


## JSF 2 & JBoss EL

Default EL implementation is pretty restrictive. For example your cannot invoke methods having parameters. 
Hopefully JBoss EL circumvent this limitation. JBoss EL integration is easy, you need to add jboss-el dependency in your pom.xml file and
declare it in your web.xml


## JSF 2 & Spring Web Flow

JSF2 is great but we believe its navigation system is still poor compare to what Spring Web Flow has to offer.

Hopefully we are not reinventing the wheel here, Spring Web Flow (SWF) team has done an amazing job at integrating SWF with JSF 1 &amp; 2.

Here are the various important files for the Spring Web Flow integration	
<table class="list">
	<thead>
		<tr>
			<th>File/folder</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>src/main/webapp/WEB-INF/web.xml</td>
			<td>
				We define the 'app'  Spring Mvc servlet to serve all views and handle all navigations. 
				The faces servlet is also started but it won't serve the view.
			</td>
		</tr>
		<tr>
			<td>src/main/webapp/WEB-INF/spring/appServlet/servlet-context.xml</td>
			<td>
				Configuration entry point for Spring MVC/WebFlow and JSF integration.
			</td>
		</tr>
		<tr>
			<td>src/main/webapp/WEB-INF/spring/appServlet/controllers.xml</td>
			<td>
				Classical Spring MVC view mapping (not webflow view) are configured here. We also declare interceptors for these view (for example the locale change interceptor available from the homepage).
			</td>
		</tr>
		<tr>
			<td>src/main/webapp/WEB-INF/spring/appServlet/webflow.xml</td>
			<td>
				The webflow configuration. Note that we declare some custom flow executions listeners.
			</td>
		</tr>
	</tbody>
</table>

## JSF 2 & The Spring Framework	


We also rely on Spring for:

* Dependency Injection and making the spring beans available from JSF pages
* Transaction Management
* Internationalization... we use the messageSource bean (alias 'msg')
	

## Spring Web Flow "FlowScoped PersistenceContext" pattern	

We are using a variation of the <a href="http://static.springsource.org/spring-webflow/docs/2.2.x/reference/html/ch07s02.html" target="_new">FlowScoped PersistenceContext</a> in all the flows we generate.
Contrary to SWF default behavior, the persistence context is propagated to sub-flows. Note that this will become the default behavior starting with SWF 2.3, please refer to <a href="https://jira.springsource.org/browse/SWF-360">JIRA SWF-360</a>	 


## JSF 2 & Spring Security	

The generated application uses SpringSecurity. The login page uses a regular form to post the user credentials.

## Generated Flows

Please refer to this <a href="/2011/01/04/springfuse-generates-primefaces-with-spring-webflow-frontend.html">blog entry</a>
