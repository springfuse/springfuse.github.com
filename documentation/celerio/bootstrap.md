---
layout: english
title: Celerio Guide - Bootstraping a project
---

Bootstraping a project
======================

Bootstrap the skeleton
----------------------

To create a new project skeleton, invoke the `bootstrap` goal of the
`maven-bootstrap-plugin` from a command line as follow:

	mvn com.jaxio.celerio:maven-bootstrap-plugin:3.0.86

When prompted, enter your application name and the desired root package
and select the desired type of application you want to generate (a
SpringMVC project, a JSF/WebFlow project etc...).

    [INFO] Scanning for projects...
    [INFO] ------------------------------------------------------------------------
    [INFO] Building Maven Default Project
    [INFO]    task-segment: [com.jaxio.celerio:maven-local-bootstrap-plugin:3.0.42-SNAPSHOT:bootstrap] (aggregator-style)
    [INFO] ------------------------------------------------------------------------
    [INFO] [local-bootstrap:bootstrap {execution: default-cli}]
    [INFO] 
    [INFO]         ______         __                  _          
    [INFO]       .' ___  |       [  |                (_)         
    [INFO]      / .'   \_| .---.  | | .---.  _ .--.  __   .--.   
    [INFO]      | |       / /__\\ | |/ /__\\[ `/'`\][  |/ .'`\ \ 
    [INFO]      \ `.___.'\| \__., | || \__., | |     | || \__. | 
    [INFO]       `.____ .' '.__.'[___]'.__.'[___]   [___]'.__.'    v3.0.42-SNAPSHOT
    [INFO] 
    [INFO]        (c) 2005-2011 Jaxio, http://www.jaxio.com
    [INFO]        Please report bugs/ideas/feedbacks to support@jaxio.com
    [INFO] 

    Enter your application name: [bootstrap]
    myapp

    Enter the Java root package of your application: [com.jaxio.demo.myapp]

    Enter the type of application you want to generate:
     1) [work in progress] JSF2, JPA2, with Spring WebFlow 2.2.1 and PrimeFaces 2.2.RC2
     2) [New] Backend only project with JPA 2 and Spring 3
     3) Application Java/JEE/Spring3/SpringMVC
     4) Ext-GWT

As soon as you select the type of application, it creates a new folder
named after your application name and copies a minimal set of files
required to run Celerio. It also output on the console the command you
should run.

    [INFO] ============================================
    [INFO]  PLEASE EXECUTE THE FOLLOWING COMMANDS:
    [INFO] 
    [INFO]   cd myapp
    [INFO]   mvn -Ph2,db,metadata,gen jetty:run
    [INFO] 
    [INFO]  Then open the page http://localhost:8080/
    [INFO] 
    [INFO] ============================================
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESSFUL
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 9 seconds
    [INFO] Finished at: Thu Jan 27 18:09:23 CET 2011
    [INFO] Final Memory: 16M/81M
    [INFO] ------------------------------------------------------------------------

Skeleton files
--------------

In general, the minimal files include at least:

-   `pom.xml` : A complete Maven2 POM file.

-   `src/main/sql/h2/01-create.sql` : an SQL script to create, init and
    drop a local H2 database. This is an example database that Celerio
    is going to reverse.

-   `src/main/config/maven-celerio-plugin/maven-celerio-plugin.xml` : A
    Celerio's configuration file.

-   `src/main/config/maven-celerio-plugin/celerio-template-packs.xml` : A
    Celerio's configuration file.

Reverse, generate and run
-------------------------

Maven 2 by convention expects certain files to be present under certain
location. For example all resource files are expected to be under
src/main/resources. Celerio follows these conventions to generate the
various source code and configuration files. As an immediate benefit,
you can rely entirely on Maven 2 to build the project generated by
Celerio.

You are now ready to

-   create the database out of the sample SQL script provided,

-   reverse this database schema and generate the corresponding source
    code and configuration files,

-   build the generated project,

-   and run the resulting web application!

To do so, from your project folder execute the Maven command printed on
the console, for example:

`C:\myapp>mvn â€“Ph2,db,metadata,gen jetty:run`

> **Note**
>
> Please note that this command may take a while to complete the first
> time as Maven needs to download all the necessary plugins and
> dependencies to build and run the project.

The `-P` option stands for 'profile'. In the above command, we activate
the 'db' profile to create a new database, the 'metadata' profile to
reverse it and the 'gen' profile to generate the corresponding source
code. All these profiles are declared in the main `pom.xml` file. The
`jetty:run` starts an embedded web server.

Now you can try out your new web application. Open
[http://localhost:8080/](http://localhost:8080/) in your browser. Can
you log in as admin/admin? If yes, congratulations!, all went well...

Unit Test
---------

Celerio also generates some unit tests. To make sure they all pass,
simply run:

`C:\myapp>mvn test`

As you can notice here, we have not set any profile since there is no
need to re-extract the database meta data or re-generate the source
code.

Import in Eclipse
-----------------

> **Note**
>
> We assume here that you have already configured Eclipse's Maven
> plugin. If not please refer to [](http://m2eclipse.sonatype.org/).

You can now import your first generated project into Eclipse. Make sure
to import it as an *existing Maven project*.

![Eclipse Maven 2 - Import as Maven
project](images/celerio-eclipse-import-as-maven-projet.png)

> **Important**
>
> Once imported please add manually to your build path the following
> Java folders
>
> -   `src/main/generated-java`
>
> -   `src/test/generated-java`
>
> To do so, from Eclipse, simply right-click on each folder and select
> the menu 'Build Path' -\> 'Use as source folder'.

Run Celerio from Eclipse
------------------------

Since Celerio is a Maven plugin, you can invoke it as any other Maven
plugin from Eclipse. Right-click on your project and select the 'Run As'
-\> 'Run Configurations...' menu. From there you can set the Maven
command to invoke and save this setting in a `.launch` file at the root
of your project. This 'Run configuration' will appear in your top level
menu.
